{{- /* 

This partial expects a dictionary as its parameter.

keys:

'location': A key in the config data file with a slice of files to inject.

            For example:
            
            [InjectionLocations]
            HEAD_TOP = [ "google-tag-manager-head-script.html" ]
            ABOVE_HEADER = [ "google-tag-manager-header-script.html" ]
            BELOW_HEADER = []
            FOOTER = []
            BELOW_FOOTER = []
            DEFAULT = [
              "glightbox-injection.html",
              "prism-injection.html",
              "favicons.html",
              "plausible-analytics-script.html",
              "structured-data-injection.html",
              "webmention-links.html",
              "category-cloud-style.html",
              "twitter-open-graph-cards.html",
              "head/social-media-links.html"
              ]

              If an empty string is passed the plugin will check for a default
              location set in the data file as DefaultLocation. Failing that
              the plugin will check for an entry under DEFAULT.
              
 'link': 'stylesheets' to load plugin CSS 
          or 'scripts' to load plugin javascripts

'context': The page context partials expect to receive (usually a '.').

*/}}

{{- if (and (reflect.IsMap .) .context) -}}

  {{- if (isset . "location") -}}
    
    {{- partial "plugin-precision-injection/location.html" . -}}
    
  {{- else if (isset . "link") -}}
  
    {{- if (eq .link "stylesheets") -}}
    
    {{- partial "plugin-precision-injection/stylesheets.html" . -}}
    
    {{- else if (eq .link "scripts") -}}
    
    {{- partial "plugin-precision-injection/scripts.html" . -}}
    
    {{- end -}}
  
  {{- end -}}

{{- end -}}