{{- $config := site.Data.plugin_precision_injection_config | default site.Data.plugin_precision_injection.config -}}
{{- $filters := dict -}}
{{- if (and (isset $config "Filters") (reflect.IsMap $config.Filters)) -}}
{{- $filters = $config.Filters -}}
{{- end -}}

{{- $context := .context -}}
{{- with .stylesheet -}}

  {{- $stylesheet := . -}}
  
  {{- with (index $filters .) -}}
    
    {{- $path := path.Base $context.Permalink -}}
      
    {{- if (or (and (reflect.IsSlice .) (in . $path)) (eq $path .)) -}}
            
<link rel="stylesheet" href="{{ $stylesheet }}" />
          
    {{- end -}}
    
  {{- else -}}
            
<link rel="stylesheet" href="{{ $stylesheet }}" />

  {{- end -}}
  
{{- end -}}